<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>NodeJS WebSocket Server</title>
    <style>
        textarea {
            display: block;
        }
        button {
            display: block;
            height: 40px;
            padding: 0 16px;
        }
    </style>
</head>

<body>
    <h1>Hello world</h1>
    <form id="main-form">
        <textarea class="field" id="json-input" rows="10"></textarea>
        <button type="submit">Submit</button>
    </form>
    <script>
        const ws = new WebSocket("ws://localhost:8080");
        ws.addEventListener("open", () => {
            console.log("We are connected");
            ws.send("How are you?");
        });

        const mainForm = document.getElementById("main-form");
        const jsonInput = document.getElementById("json-input");
        mainForm.addEventListener("submit", (event) => {
            event.preventDefault();
            const json = jsonInput.value;
            if (!json) {
                return;
            }
            // TODO: You have json string here
            ws.send(json)
        })
    </script>
</body>

</html>